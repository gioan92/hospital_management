{% load static %}

<style>
    #nurse_room{
            width:170px;
            height:100px;
            background:white;
            border:2px solid black;
            position:absolute;
            left:470px;
            top:380px;
            font-size:30px;
            font-family: 'Noto Sans KR', sans-serif;
            display : flex;
            justify-content : center;
            align-items: center;
        }
        #CT{
            width:100px;
            height:200px;
            background:white;
            border:2px solid black;
            position:absolute;
            left:30px;
            top:150px;
            font-size:30px;
            font-family: 'Noto Sans KR', sans-serif;
            display : flex;
            justify-content : center;
            align-items: center;
        }
        #Xray{
            width:200px;
            height:100px;
            background:white;
            border:2px solid black;
            position:absolute;
            left:30px;
            top:380px;
            font-size:30px;
            font-family: 'Noto Sans KR', sans-serif;
            display : flex;
            justify-content : center;
            align-items: center;
        }
        #MRI{
            width:200px;
            height:100px;
            background:white;
            border:2px solid black;
            position:absolute;
            left:250px;
            top:380px;
            font-size:30px;
            font-family: 'Noto Sans KR', sans-serif;
            display : flex;
            justify-content : center;
            align-items: center;
        }

</style>
<script language="javascript">
    function showPopup3() { window.open("popup203.html", "a", "width=900, height=500, left=100, top=50"); }
    function showPopup4() { window.open("popup202.html", "a", "width=900, height=500, left=100, top=50"); }
    function showPopup5() { window.open("popup201.html", "a", "width=900, height=500, left=100, top=50"); }
</script>

<div id="container">
    <div id="logo">2F</div>
    <div id="stair"></div>
    <div id="elebator"></div>
    <div id="toilet"></div>
    <div id="roomA" onclick="showPopup5();">201B호</div>
    <div id="roomB" onclick="showPopup4();">202B호</div>
    <div id="roomC" onclick="showPopup3();">203B호</div>
    <div id="nurse_room">간호사실</div>
    <div id="CT">CT<br>촬영실</div>
    <div id="Xray">X선촬영실</div>
    <div id="MRI">MRI실</div>
</div>

<script>
    sumA=0;
    sumB=0;
    sumC=0;
    {% for p in patient %}
        selectRoom = "{{p.roomNo}}";
        selectBed = {{p.roomBed}};

        document.write(sumA);

        if(selectRoom=="201b"){
            if(selectBed==1){
                sumA = sumA+1;
            }
            if(selectBed==2){
                sumA = sumA+1;
            }
            if(selectBed==3){
                sumA = sumA+1;
            }
            if(selectBed==4){
                sumA = sumA+1;
            }
        }

        if(selectRoom=="202b"){
            if(selectBed==1){
                sumB = sumB+1;
            }
            if(selectBed==2){
                sumB = sumB+1;
            }
            if(selectBed==3){
                sumB = sumB+1;
            }
            if(selectBed==4){
                sumB = sumB+1;
            }
        }

        if(selectRoom=="203b"){
            if(selectBed==1){
                sumC = sumC+1;
            }
            if(selectBed==2){
                sumC = sumC+1;
            }
            if(selectBed==3){
                sumC = sumC+1;
            }
            if(selectBed==4){
                sumC = sumC+1;
            }
        }
    {% endfor %}

    if(sumA==2){
        document.getElementById('roomA').style.backgroundColor='orange';
        document.getElementById('roomA').style.color='white';
    }

    if(sumB==2){
        document.getElementById('roomB').style.backgroundColor='orange';
        document.getElementById('roomB').style.color='white';
    }

    if(sumC==2){
        document.getElementById('roomC').style.backgroundColor='orange';
        document.getElementById('roomC').style.color='white';
    }
</script>